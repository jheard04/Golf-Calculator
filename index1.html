
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TLake's Golf Calculator</title>
  
<style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      background-color: #f1f8f4;
      
      background-size: cover; 
      background-position: center;
      color: #2d4739;
    }
    h2 {
      background-color: rgba(255, 255, 255, 0.85);
      padding: 15px;
      border-left: 8px solid #4CAF50;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
      border-radius: 5px;
    }
    input, button {
      margin: 5px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #45a049;
    }
    table {
      margin-top: 20px;
      border-collapse: collapse;
      width: 100%;
      background-color: white;
      border-radius: 5px;
      overflow: hidden;
    }
    th {
      background-color: #4CAF50;
      color: white;
    }
    th, td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: center;
    }
    ul {
      background-color: rgba(255, 255, 255, 0.9);
      padding: 15px;
      border-radius: 5px;
      list-style-type: square;
    }

    body { font-family: Arial, sans-serif; padding: 20px; }
    input, button { margin: 5px; padding: 5px; }
    table { margin-top: 15px; border-collapse: collapse; width: 100%; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: center; }
  </style>
</head>
<body>

  <h2 style="text-align:center; font-size: 2em;">TLake's Golf Calculator</h2>
<div style="text-align:left;">
  <img src="IMG_1757.jpg" alt="Golf Photo" style="width:25%; height:50%; border-radius:8px; margin:20px 0; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
</div>


  <label>Number of Golfers: <input type="number" id="numGolfers" min="2" /></label>
  <button onclick="generateInputs()">Generate Input Fields</button>
  <button onclick="resetForm()">Reset</button>

  <div id="inputs"></div>

  <label>Value per Skin: $<input type="number" id="skinValue" step="0.01" /></label>
  <label>Value per 3-Putt: $<input type="number" id="puttValue" step="0.01" /></label>
  <button onclick="calculateResults()">Calculate</button>

  <div id="results"></div>
  <div id="settlements"></div>

  <script>
    function generateInputs() {
      const num = parseInt(document.getElementById('numGolfers').value);
      const container = document.getElementById('inputs');
      container.innerHTML = '';

      for (let i = 0; i < num; i++) {
        const div = document.createElement('div');
        div.innerHTML = `
          <label>Golfer ${i + 1} Name:
            <input type="text" id="name${i}" />
          </label>
          <label>Skins Won:
            <input type="number" id="skins${i}" min="0" />
          </label>
          <label>3-Putts:
            <input type="number" id="putts${i}" min="0" />
          </label><br/>
        `;
        container.appendChild(div);
      }
    }

    function calculateResults() {
      const num = parseInt(document.getElementById('numGolfers').value);
      const skinValue = parseFloat(document.getElementById('skinValue').value || 0);
      const puttValue = parseFloat(document.getElementById('puttValue').value || 0);
      let golfers = [];

      for (let i = 0; i < num; i++) {
        let name = document.getElementById(`name${i}`).value;
        if (!name.trim()) name = `Golfer ${i + 1}`;
        const skins = parseInt(document.getElementById(`skins${i}`).value || 0);
        const putts = parseInt(document.getElementById(`putts${i}`).value || 0);
        golfers.push({ name, skins, putts, money: 0 });
      }

      // SKINS calculation: pairwise
      for (let i = 0; i < num; i++) {
        for (let j = 0; j < num; j++) {
          if (i !== j) {
            let diff = golfers[i].skins - golfers[j].skins;
            if (diff > 0) {
              golfers[i].money += diff * skinValue;
              golfers[j].money -= diff * skinValue;
            }
          }
        }
      }

      // 3-Putts Calculation
      let total3PuttMoney = 0;
      let fewestPutts = Math.min(...golfers.map(g => g.putts));
      let winners = golfers.filter(g => g.putts === fewestPutts);

      golfers.forEach(g => {
        g.money -= g.putts * puttValue;
        total3PuttMoney += g.putts * puttValue;
      });

      let share = total3PuttMoney / winners.length;
      winners.forEach(w => {
        w.money += share;
      });

      // Round final money
      golfers.forEach(g => g.money = parseFloat(g.money.toFixed(2)));

      // RESULTS TABLE
      let resultsHtml = `<h3>Results</h3><table><tr><th>Name</th><th>Skins Won</th><th>3-Putts</th><th>Money (Â±)</th></tr>`;
      golfers.forEach(g => {
        resultsHtml += `<tr>
          <td>${g.name}</td>
          <td>${g.skins}</td>
          <td>${g.putts}</td>
          <td>${g.money >= 0 ? '+$' + g.money.toFixed(2) : '-$' + Math.abs(g.money).toFixed(2)}</td>
        </tr>`;
      });
      resultsHtml += `</table>`;
      document.getElementById('results').innerHTML = resultsHtml;

      // SETTLE UP
      let debtors = golfers.filter(g => g.money < 0).map(g => ({ name: g.name, amount: -g.money }));
      let creditors = golfers.filter(g => g.money > 0).map(g => ({ name: g.name, amount: g.money }));

      let settlementHtml = `<h3>Settle Up</h3><ul>`;
      let i = 0, j = 0;

      while (i < debtors.length && j < creditors.length) {
        let pay = Math.min(debtors[i].amount, creditors[j].amount);
        settlementHtml += `<li><strong>${debtors[i].name}</strong> pays <strong>${creditors[j].name}</strong> $${pay.toFixed(2)}</li>`;
        debtors[i].amount -= pay;
        creditors[j].amount -= pay;
        if (debtors[i].amount < 0.01) i++;
        if (creditors[j].amount < 0.01) j++;
      }

      settlementHtml += `</ul>`;
      document.getElementById('settlements').innerHTML = settlementHtml;
    }
  
    function resetForm() {
      document.getElementById('numGolfers').value = '';
      document.getElementById('skinValue').value = '';
      document.getElementById('inputs').innerHTML = '';
      document.getElementById('results').innerHTML = '';
      document.getElementById('settlements').innerHTML = '';
    }
</script>


</body>
</html>
